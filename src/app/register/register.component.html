<!-- Spinner Start -->
<div *ngIf="isLoading" id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>

<!-- Registration Form -->
<!-- Registration Form -->
<div class="col-lg-4 col-md-12 wow fadeInUp" style="margin: 0 auto; margin-top: 5%;">
    
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="row g-3">
            <div class="col-md-12">
                <h1 style="text-align: center;"> Register Now!</h1>
                <input formControlName="id" type="hidden" />
                <div class="form-floating field-animation" [ngClass]="{'show': showFields[0]}">
                    <input type="text" formControlName="Name" class="form-control" id="name" placeholder="Name">
                    <label for="name"> Name</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-floating field-animation" [ngClass]="{'show': showFields[1]}">
                    <input type="email" formControlName="Email" class="form-control" id="email" placeholder="Email">
                    <label for="email"> Email</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-floating field-animation" [ngClass]="{'show': showFields[2]}">
                    <input type="text" formControlName="ClassLevel" class="form-control" id="class" placeholder="Class">
                    <label for="class"> ClassLevel</label>
                </div>
            </div>
            <div class="col-12">
                <div class="form-floating field-animation" [ngClass]="{'show': showFields[3]}">
                    <input type="number" formControlName="Age" class="form-control" id="age" placeholder="Your Age">
                    <label for="age">Age</label>
                </div>
            </div>
            <div class="col-12">
                <div class="form-floating field-animation" [ngClass]="{'show': showFields[4]}">
                    <input type="password" formControlName="Password" class="form-control" id="password" placeholder="Password min length 6, should containe upper and lower alphabetics, numeric and non alphanumerics">
                    <label for="password">Password</label>
                    <div *ngIf="registerForm.controls['Password'].invalid && registerForm.controls['Password'].touched" class="text-danger">
                        <small *ngIf="registerForm.controls['Password'].errors?.['required']">Password is required.</small>
                        <small *ngIf="registerForm.controls['Password'].errors?.['minlength']">Password must be at least 6 characters.</small>
                        <small *ngIf="registerForm.controls['Password'].errors?.['pattern']">Password must contain uppercase, lowercase, number, and special character.</small>
                      </div>
                </div>
            </div>
            <div class="col-12">
                <button class="btn btn-primary w-100 py-3" type="submit" [disabled]="registerForm.invalid || isLoading">Confirm</button>
            </div>
        </div>
    </form>
    <p style="margin-top: 2%;">Already Have an Account? <a routerLink="/login">login</a></p>
</div>
